---
title: elaticsearch学习一
date: 2020-1-13 15:33:19
tags:
---

#####  一、数据量比较大，上十亿百亿时，系统架构针对数据存储面临问题：

1. 数据库选型
2. 单点故障问题
3. 数据安全性问题
4. 检索难题
5. 统计、分析数据问题

##### 二、关系型数据库解决方案

1.  通过主从备份解决数据安全性问题；
2. 通过数据库代理中间件心跳监测，解决单点故障问题；
3.  通过代理中间件将查询语句分发到各个slave节点进行查询，并汇总结果 

##### 三、非关系型数据库解决方案

1.  通过副本备份保证数据安全性； 

2.  通过节点竞选机制解决单点问题； 

3.  先从配置库检索分片信息，然后将请求分发到各个节点，最后由路由节点合并汇总结果  

   ps:将数据全部放于内存中，PB级别数据分配到单台机器，满内存使用情况下，节点数太大，再考虑数据备份，节点数更大，不现实。

##### 四、Elasticsearch

在传统数据库存储的数据安全性问题，大流量下，为解决上述关系和非关系型数据库的问题，引出ES。

解决方式：

1.  存储数据时按有序存储；  
2.  将数据和索引分离； 
3.  压缩数据；  

##### 五、ES基础

- ######   定义： 是一个开源的高扩展的分布式全文检索引擎

  1. 近乎实时的存储、检索数据； 

  ​    2. 扩展性好，可以扩展服务器，处理PB级别的数据；

- 

  1. 

     

